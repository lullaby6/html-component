window.HTMLComponentRender=e=>{e.querySelectorAll("html-c").forEach(async e=>{if(e.hasAttribute("rendered"))return;let t=e.getAttribute("src");t.endsWith(".html")||(t+=".html");let r=await fetch(t),n=await r.text();e.setAttribute("children",e.innerHTML),e.innerHTML="";let i=/\{(\w+)\}/g;function a(e){e.forEach(async e=>{let t=document.createElement("script");if(e.hasAttribute("src")){let r=await fetch(e.getAttribute("src")),n=await r.text();t.innerHTML=n}else t.innerHTML=e.innerHTML;document.getElementsByTagName("head")[0].appendChild(t),e.remove()})}e.hasAttribute("shadow-dom")?(e.attachShadow({mode:"open"}),e.shadowRoot.innerHTML=n.replace(i,(t,r)=>e.getAttribute(r)||""),a(e.shadowRoot.querySelectorAll("script"))):(e.innerHTML=n.replace(i,(t,r)=>e.getAttribute(r)||""),a(e.querySelectorAll("script"))),e.setAttribute("rendered",""),HTMLComponentRender(e)}),e.querySelectorAll("[listener]").forEach(async e=>e.getAttribute("listener").split(" ").forEach(t=>{let[r,n]=t.split("-");e.addEventListener(r,e=>window[n](e)),"load"==r&&window[n](e.dispatchEvent(new Event("load")))}))},window.HTMLComponentRender(document),window.HTMLComponentInsert=(e,t,r="beforeend")=>{e.insertAdjacentHTML(r,t),window.HTMLComponentRender(e)};